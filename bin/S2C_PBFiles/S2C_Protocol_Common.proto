syntax = "proto3";

package S2C_Protocol;
option csharp_namespace = "Google.Protobuf.Protocol";

enum MsgId {
    S_WELCOME = 0;
    C_WELCOME = 1;
    S_WELCOME_RESPONSE = 2;
    S_ENCRYPTED = 3;
    C_ENCRYPTED = 4;
    C_LOGIN = 5;
    S_LOGIN = 6;
    C_CREATE_ACCOUNT = 7;
    S_CREATE_ACCOUNT = 8;
    C_LOGOUT = 9;
    S_LOGOUT = 10;
    C_MATCHMAKE_REQUEST = 11;
    S_MATCHMAKE_REQUEST = 12;
    C_MATCHMAKE_CANCEL = 13;
    S_MATCHMAKE_CANCEL = 14;
    S_MATCHMAKE_KEEP_ALIVE = 15;
    C_MATCHMAKE_KEEP_ALIVE = 16;
    S_REDO_MATCHMAKE = 17;
    S_EXCLUDED_FROM_MATCH = 18;
    S_MATCHMAKE_COMPLETED = 19;
    C_GAME_SCENE_LOADING_PROGRESS = 20;
    S_GAME_STARTED = 21;
    C_REQUEST_GAME_STATE = 22;
    S_DELTA_GAME_OBJECT_SOFT = 23;
    S_DELTA_GAME_OBJECT_HARD = 24;
    S_SPAWN_GAME_OBJECT = 25;
    S_DESPAWN_GAME_OBJECT = 26;
    S_END_GAME = 27;
    C_REQUEST_MY_RECORDS = 28;
    S_RESPONSE_MY_RECORDS = 29;
    C_REQUEST_PUBLIC_RECORDS = 30;
    S_RESPONSE_PUBLIC_RECORDS = 31;
    S_GAME_SCENE_LOADING_PROGRESS = 32;

    S_TESTGAME_STATE = 100;
    S_TESTGAME_RESULT = 101;

    S_P_STATE = 200;
    S_P_RESULT = 201;
    S_P_READY_FOR_START = 202;
    S_P_REQUEST_PLAYER_BAR_POSITION = 203;
    C_P_RESPONSE_PLAYER_BAR_POSITION = 204;
    S_P_CHANGE_PLAYER_BAR_POSITION = 205;
    S_P_BULLET = 206;
    S_P_BULLETS = 207;
    C_P_COLLISION_BAR = 208;
    C_P_COLLISION_GOAL_LINE = 209;
    S_P_RENEW_SCORES = 210;
    S_P_KEEP_ALIVE = 211;
    C_P_RESPONSE_KEEP_ALIVE = 212;

    S_DANMAKU_STATE = 300;
    S_DANMAKU_RESULT = 301;

    S_M_STATE = 400;
    S_M_RESULT = 401;
    S_M_SET_SLOT_STATE = 402;
    C_M_HIT_SLOT = 403;
    S_M_RESPONSE_HIT_SLOT = 404;
    S_M_RENEW_SCORES = 405;
}

message XYZ {
    float x = 1;
    float y = 2;
    float z = 3;
}

//objectId : 서버 내 Room에서 사용하는 해당 object의 식별자
//objectType : GameObject의 타입 식별자
message UnityGameObject {
    int32 objectId = 1;
    int32 objectType = 2;
    XYZ position = 3;
    //XYZ Rotation = 2;
}

message GameObjectMovementInfo {
    int32 objectId = 1;
    XYZ position = 2;
    XYZ front = 3;
    XYZ velocity = 4;
}